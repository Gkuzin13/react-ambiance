{"version":3,"file":"AmbientImage.stories-3023162d.js","sources":["../../src/components/AmbientImage/AmbientImage.tsx"],"sourcesContent":["import { traverseAndPassPropsByElementType } from '@/utils/traverse/traverse-elements';\nimport AmbientContainer from '@/components/AmbientContainer/AmbientContainer';\nimport AmbientCanvas from '@/components/AmbientCanvas/AmbientCanvas';\nimport useSource from '@/hooks/useSource/useSource';\nimport { canvasDefaultConfigGenerator } from '@/constants/canvas';\nimport type { PropsWithChildren } from 'react';\nimport type { CanvasConfig } from '@/constants/canvas';\n\nexport type AmbientImageProps = PropsWithChildren &\n  Omit<CanvasConfig, 'frameRate' | 'initialFrameAlpha'>;\n\nconst AmbientImage = ({ children, ...restProps }: AmbientImageProps) => {\n  const { sourceRef, sourceReady, setSourceReady } = useSource();\n\n  const imgElementProps = {\n    onLoad: () => setSourceReady(true),\n    ref: sourceRef,\n  };\n\n  return (\n    <AmbientContainer>\n      {traverseAndPassPropsByElementType(children, 'img', {\n        ...imgElementProps,\n      })}\n      {sourceReady && (\n        <AmbientCanvas\n          sourceRef={sourceRef}\n          {...restProps}\n          frameRate={0}\n          initialFrameAlpha={1}\n        />\n      )}\n    </AmbientContainer>\n  );\n};\n\nAmbientImage.defaultProps = canvasDefaultConfigGenerator([\n  'frameRate',\n  'initialFrameAlpha',\n]);\n\nexport default AmbientImage;\n"],"names":["AmbientImage","__name","children","sourceRef","sourceReady","setSourceReady","_jsxs","AmbientContainer","traverseAndPassPropsByElementType","imgElementProps","restProps","AmbientImage$1"],"mappings":"kSAWA,MAAAA,EAAAC,EAAA,CAAA,CAAsB,SAAAC,EAAEA,GAAAA,CAA0C,IAAA,CAChE,KAAA,CAAM,UAAAC,EAAEA,YAAAA,EAAWC,eAAAA,CAAaC,EAAAA,EAAAA,EAOhC,OAAAC,EAAAC,EAAA,CACmB,SAAA,CAAAC,EAAAN,EAAA,MAAA,CACqC,GAPxD,CAAwB,OAAA,IAAAG,EAAA,EAAA,EACW,IAAAF,CAC5BA,CAMEM,CAAAA,EAAAA,GAAAA,EAAAA,EAAAA,CAGW,UAAAN,EACZ,GAAAO,EACIA,UAAAA,EACO,kBAAA,CACQ,CAAA,CAAA,CAEtB,CAAA,CAGP,EAvBA,gBAyBAV,EAAAA,aAAAA,EAAAA,CAAAA,YAAAA,mBAAAA,CAAAA,EAKA,MAAAW,EAAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}