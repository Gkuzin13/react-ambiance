{"version":3,"file":"AmbientVideo.stories-c0a7e7b0.js","sources":["../../src/components/AmbientVideo/AmbientVideo.tsx"],"sourcesContent":["import { useState } from 'react';\nimport CanvasContainer from '@/components/AmbientContainer/AmbientContainer';\nimport AmbientCanvas from '@/components/AmbientCanvas/AmbientCanvas';\nimport useSource from '@/hooks/useSource/useSource';\nimport { traverseAndPassPropsByElementType } from '@/utils/traverse/traverse-elements';\nimport { canvasDefaultConfigGenerator } from '@/constants/canvas';\nimport type { CanvasConfig } from '@/constants/canvas';\nimport type { PropsWithChildren } from 'react';\nimport type { MediaProps } from '@/utils/traverse/traverse-elements';\n\nexport type AmbientVideoProps = PropsWithChildren &\n  Omit<CanvasConfig, 'appear'>;\n\nconst AmbientVideo = ({ children, ...restProps }: AmbientVideoProps) => {\n  const [playing, setPlaying] = useState(false);\n\n  const { sourceRef, sourceReady, setSourceReady } = useSource();\n\n  const videoElementProps: MediaProps = {\n    onLoadedMetadata: () => setSourceReady(true),\n    onPlaying: () => setPlaying(true),\n    onPause: () => setPlaying(false),\n    ref: sourceRef,\n  };\n\n  return (\n    <CanvasContainer>\n      {traverseAndPassPropsByElementType(children, 'video', {\n        ...videoElementProps,\n      })}\n      {sourceReady && (\n        <AmbientCanvas\n          sourceRef={sourceRef}\n          {...restProps}\n          frameRate={playing ? restProps.frameRate : 0}\n        />\n      )}\n    </CanvasContainer>\n  );\n};\n\nAmbientVideo.defaultProps = canvasDefaultConfigGenerator(['appear']);\n\nexport default AmbientVideo;\n"],"names":["AmbientVideo","__name","children","playing","setPlaying","useState","sourceRef","sourceReady","setSourceReady","_jsxs","CanvasContainer","traverseAndPassPropsByElementType","videoElementProps","restProps","AmbientVideo$1"],"mappings":"8SAaA,MAAAA,EAAAC,EAAA,CAAA,CAAsB,SAAAC,EAAEA,GAAAA,CAA0C,IAAA,CAChE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEA,CAAM,UAAAC,EAAEA,YAAAA,EAAWC,eAAAA,CAAaC,EAAAA,EAAAA,EAShC,OAAAC,EAAAC,EAAA,CACkB,SAAA,CAAAC,EAAAT,EAAA,QAAA,CACwC,GAT1D,CAAsC,iBAAA,IAAAM,EAAA,EAAA,EACO,UAAA,IAAAJ,EAAA,EAAA,EACX,QAAA,IAAAA,EAAA,EAAA,EACD,IAAAE,CAC1BA,CAMEM,CAAAA,EAAAA,GAAAA,EAAAA,EAAAA,CAGW,UAAAN,EACZ,GAAAO,EACIA,UAAAA,EAAAA,EAAAA,UAAAA,CACuC,CAAA,CAAA,CAE9C,CAAA,CAGP,EA1BA,gBA4BAb,EAAAA,aAAAA,EAAAA,CAAAA,QAAAA,CAAAA,EAEA,MAAAc,EAAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}